<html>
	<head>
		<title>Game</title>
		<script src="phaser.min.js"></script>
		<script>
			var P2Game = {};
			
			P2Game.StateA = function (game) {
				this.player;
				this.key1;
				this.key2;
				this.key3;
				
				this.preload = function() {
					this.game.stage.backgroundColor = '#eee';
					this.game.load.spritesheet('player', 'SpriteBoy.png',14,32);
				}
				
				this.create = function() {
					this.game.physics.startSystem(Phaser.Physics.ARCADE);
					
					this.game.input.keyboard.removeKeyCapture(Phaser.Keyboard.LEFT);
					this.game.input.keyboard.removeKeyCapture(Phaser.Keyboard.RIGHT);
					this.game.input.keyboard.removeKeyCapture(Phaser.Keyboard.SPACEBAR);
					
					this.key1 = this.game.input.keyboard.addKey(Phaser.Keyboard.LEFT);
					this.key2 = this.game.input.keyboard.addKey(Phaser.Keyboard.RIGHT);
					this.key3 = this.game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR);
					
					this.player = game.add.sprite(32, 32, 'player');
					this.game.physics.enable(this.player, Phaser.Physics.ARCADE);
					this.player.body.collideWorldBounds = true;
					this.player.body.gravity.y = 1000;
					this.player.body.maxVelocity.y = 500;
					
					this.player.animations.add('default', [0], 10, true);
					this.player.animations.add('left', [4, 5], 10, true);
					this.player.animations.add('right', [1, 2], 10, true);
					
					this.player.scale.setTo(this.player.scale.x*1.5,this.player.scale.y*1.5);
					
				}
				
				this.update=function() {
					this.player.body.velocity.x = 0;
					if (this.key1.isDown){
						this.player.animations.play('left');
						this.player.body.velocity.x = -150;
					}
					else if (this.key2.isDown){
						this.player.animations.play('right');
						this.player.body.velocity.x = 150;
					}
					else if (this.key3.isDown){
						this.player.body.velocity.y = -150;
					}
					else {
						this.player.animations.play('default');
					}
				}
			}
			
			var game = new Phaser.Game(480, 320, Phaser.AUTO, 'GameArea');

			game.state.add('StateA', P2Game.StateA);

			game.state.start('StateA');
		</script>
	</head>
	<body>
		
	</body>
</html>